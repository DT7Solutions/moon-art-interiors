(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{"6t0+":function(e,t,n){"use strict";var o,i=n("rePB"),a=n("o0o1"),r=n.n(a),l=n("HaE+"),s=n("MX0m"),c=n.n(s),p=n("q1tI"),d=n.n(p),f=n("Qyje"),u=n.n(f),m=n("vDqi"),g=n.n(m),b=n("/MKj"),x=n("ootk"),_=n("i8i4"),w=n("EAk2"),h=d.a.createElement;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={actionUserProfile:x.c};t.a=Object(b.b)((function(e){return{userProfile:e.userProfile.userdetail,city:e.main.city,pageInfo:e.main.pageInfo}}),y)((function(e){var t=Object(p.useState)(""),n=t[0],a=t[1],s=Object(p.useState)(""),f=s[0],m=s[1],b=Object(p.useState)(23),x=b[0],v=b[1],y=Object(p.useState)(""),k=y[0],N=y[1],q=Object(p.useState)(!1),O=q[0],L=q[1],I=Object(p.useState)({o1:"",o2:"",o3:"",o4:"",o5:"",o6:""}),P=I[0],C=I[1];Object(p.useEffect)((function(){if((null===e||void 0===e?void 0:e.userProfile)&&Object.keys(null===e||void 0===e?void 0:e.userProfile).length>0){var t,n,o=null===(t=e.userProfile)||void 0===t||null===(n=t.inLogFName)||void 0===n?void 0:n.toLowerCase();if(""===o||"user"===o){var i,a;if(null===(i=S.current)||void 0===i?void 0:i.classList.contains("dn"))null===(a=S.current)||void 0===a||a.classList.remove("dn");var r=document.querySelector(".rfqOtpLogPop");r.classList.contains("dn")||r.classList.add("dn");var l=document.querySelector(".rfqUserNamePop");l.classList.contains("dn")&&(e.logImpression("name_pop_up"),l.classList.remove("dn"))}else K()}}),[e.userProfile]),Object(p.useEffect)((function(){return document.body.classList.add("body_fixed"),"catalog_chat"===e.whoAmI?e.logImpression("impression_chatlogin"):e.logImpression("web_auto_login_impression"),Object(w.a)(),function(){e.hideNewLoginPopup(),document.body.classList.remove("body_fixed")}}),[]);var S=Object(p.useRef)(),D=Object(p.useRef)(),z=Object(p.useRef)(),E=Object(p.useRef)(),A=Object(p.useRef)(),F=Object(p.useRef)(),R=Object(p.useRef)(),K=function(){var t,n,o;Object(w.a)(),(null===(t=S.current)||void 0===t?void 0:t.classList.contains("dn"))&&(null===(n=S.current)||void 0===n||n.classList.remove("dn")),null===(o=S.current)||void 0===o||o.classList.add("dn"),localStorage.setItem("loginIsOpen",!1),e.hideNewLoginPopup(),document.body.classList.remove("body_fixed")},M=function(e){if(13===e.keyCode)U();else{var t=e.target.value;t.match(/^[0-9]{0,10}$/)&&(a(t),N(""))}},U=function(){var e=Object(l.a)(r.a.mark((function e(t){var i,a,l,s,c,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==$()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,a=location.host&&location.host.match(/\.jdsoftware\.jd/)?"http://".concat(location.hostname):"",e.next=7,g.a.post(a+"/functions/whatsappverification.php",u.a.stringify({mob:n}));case 7:(null===(l=e.sent)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.sent)?(C({o1:"",o2:"",o3:"",o4:"",o5:"",o6:""}),(s=document.querySelector(".rfqLoginPop")).classList.contains("dn")||s.classList.add("dn"),(c=document.querySelector(".rfqOtpLogPop")).classList.contains("dn")&&(c.classList.remove("dn"),setTimeout((function(){var e;return null===(e=D.current)||void 0===e?void 0:e.focus()}),100),p=23,o=setInterval((function(){v(p-=1)}),1e3))):N("Reached daily SMS limit."),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();Object(p.useEffect)((function(){x<1&&clearInterval(o)}),[x]);var T=function(){var e=Object(l.a)(r.a.mark((function e(t){var o,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=location.host&&location.host.match(/\.jdsoftware\.jd/)?"http://".concat(location.hostname):"",e.next=4,g.a.post(i+"/functions/whatsappverification.php",u.a.stringify({mob:n}));case 4:(null===(a=e.sent)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.sent)?N("Code resent successfully!"):N("Reached daily SMS limit."),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0,e.t0.message),e.abrupt("return",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var t=Object(l.a)(r.a.mark((function t(){var n,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=/^[a-zA-Z]+([.']{0,1}[ ]{0,1}[a-zA-Z]+)*$/,""!==f){t.next=7;break}return N("Please enter name."),t.abrupt("return",!1);case 7:if(!(f.length>20)){t.next=12;break}return N("Sorry, but your username must be no longer than 20 characters"),t.abrupt("return",!1);case 12:if(f.trim().match(n)){t.next=17;break}return N("Please enter valid name."),t.abrupt("return",!1);case 17:N("");case 18:return e.logImpression("submit_name"),o=location.host&&location.host.match(/\.jdsoftware\.jd/)?"http://".concat(location.hostname):"",t.next=22,g.a.post(o+"/functions/gtusrdtl.php",u.a.stringify({type:"updtname",name:f}),{withCredentials:!0});case 22:return t.sent,t.next=25,e.actionUserProfile();case 25:K(),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(0),console.log(t.t0.message);case 31:case"end":return t.stop()}}),t,null,[[0,28]])})));return function(){return t.apply(this,arguments)}}(),$=function(){return""===n?(N("Please enter mobile."),!1):n.match(/^[9876]{1}[0-9]{9}$/)?(N(""),!0):(N("Please enter valid mobile number."),!1)},Z=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,o,a,l,s,c,p,d,f,u,m,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode||"o6"!==t.target.name||""===t.target.value){e.next=5;break}return H(),e.abrupt("return",!1);case 5:"o1"!==(n=t.target.name)&&"o2"!==n&&"o3"!==n&&"o4"!==n&&"o5"!==n&&"o6"!==n||(o=parseInt(t.target.value),8,isNaN(o)?8===t.keyCode&&isNaN(o)?6===t.target.tabIndex?null===(d=F.current)||void 0===d||d.focus():5===t.target.tabIndex?null===(f=A.current)||void 0===f||f.focus():4===t.target.tabIndex?null===(u=E.current)||void 0===u||u.focus():3===t.target.tabIndex?null===(m=z.current)||void 0===m||m.focus():2===t.target.tabIndex&&(null===(g=D.current)||void 0===g||g.focus()):C(j(j({},P),{},Object(i.a)({},n,""))):(C(j(j({},P),{},Object(i.a)({},n,o))),8!==t.keyCode&&(1===t.target.tabIndex?null===(a=z.current)||void 0===a||a.focus():2===t.target.tabIndex?null===(l=E.current)||void 0===l||l.focus():3===t.target.tabIndex?null===(s=A.current)||void 0===s||s.focus():4===t.target.tabIndex?null===(c=F.current)||void 0===c||c.focus():5===t.target.tabIndex&&(null===(p=R.current)||void 0===p||p.focus()))));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){m(""),C({o1:"",o2:"",o3:"",o4:"",o5:"",o6:""}),N("")},H=function(){var t=Object(l.a)(r.a.mark((function t(o){var i,l,s,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=P.o1+""+P.o2+P.o3+P.o4+P.o5+P.o6,isNaN(i)||6===i.length){t.next=4;break}return N("Please enter proper otp."),t.abrupt("return",!1);case 4:return t.prev=4,L(!0),s=location.host&&location.host.match(/\.jdsoftware\.jd/)?"http://".concat(location.hostname):"",t.next=9,g.a.post(s+"/functions/whatsappverification.php",u.a.stringify({vcode:i,mob:n}),{withCredentials:!0});case 9:if(c=t.sent,!0!==(null===(l=c.data)||void 0===l?void 0:l.match)){t.next=20;break}return"catalog_chat"===e.whoAmI?e.logImpression("chatlogin_submit"):e.logImpression("web_auto_login_success"),t.next=14,e.actionUserProfile();case 14:return a(""),B(),L(!1),t.abrupt("return",!1);case 20:N("Invalid verification code!"),L(!1);case 22:t.next=28;break;case 24:return t.prev=24,t.t0=t.catch(4),L(!1),t.abrupt("return",t.t0.message);case 28:case"end":return t.stop()}}),t,null,[[4,24]])})));return function(e){return t.apply(this,arguments)}}(),Q=P.o1+""+P.o2+P.o3+P.o4+P.o5+P.o6;return _.createPortal(h(d.a.Fragment,null,h("section",{ref:S,className:"jsx-1072477770 jdmart_modal new__rfqlogin_pop rfqMain"},h("div",{className:"jsx-1072477770 jdmart_modal_content jdmart_modal_large modal_animation fadeInUpTop"},h("div",{className:"jsx-1072477770 jdmart_modal_header pl-35 pt-35 pr-0"},h("div",{className:"jsx-1072477770 modal_head_center"},h("div",{className:"jsx-1072477770 login_logo"},h("img",{src:"https://akam.cdn.jdmagicbox.com/images/icontent/jdrwd/jdlogosvg.svg",width:"120",height:"28",alt:"JD Mart",className:"jsx-1072477770 "})),h("div",{className:"jsx-1072477770 login_text pl-20"},h("span",{className:"jsx-1072477770 font24 color111 fw700"},e.heading||"Welcome"),h("span",{className:"jsx-1072477770 font17 color111 fw400 mt-5"},e.subtext||"Login for a seamless experience"))),h("div",{onClick:function(){return K()},className:"jsx-1072477770 modal_head_right"},h("span",{className:"jsx-1072477770 jdmart_modal_close jdmart_icon"}))),h("div",{className:"jsx-1072477770 jdmart_modal_body pl-40 pr-40 pt-5 pb-50"},h("div",{className:"jsx-1072477770 rfqlogin_box mt-30 pt-20"},h("div",{className:"jsx-1072477770 rfqlogin_leftbox "},h("div",{className:"jsx-1072477770 rfqLoginPop"},h("div",{className:"jsx-1072477770 login_input_from"},h("div",{className:"jsx-1072477770 login_input_group"},h("div",{className:"jsx-1072477770 login_input_addone font18 fw500 color111"},"+91"),h("input",{type:"text",name:"mobile",maxLength:"10",placeholder:"Mobile Number",value:n,onChange:M,onKeyDown:M,className:"jsx-1072477770 login_input font18 fw500 color111"}))),h("div",{className:"jsx-1072477770 input_error font15 colorDA4 fw400 mt-10 jdmart_wrapper"},k),h("div",{className:"jsx-1072477770 login_input_btnbox mt-20"},h("button",{onClick:function(){U(),"catalog_chat"===e.whoAmI?e.logImpression("chatlogin_otp"):e.logImpression("web_auto_login_otp_generate")},className:"jsx-1072477770 "+"login_input_button bluefill_animate font18 fw600 colorFFF ".concat(10!==n.length||k?"disable":"")},"catalog_chat"===e.whoAmI?"Continue":"Login")),"catalog_chat"!==e.whoAmI&&h("div",{onClick:function(){e.logImpression("maybe_later"),K()},className:"jsx-1072477770 text_center mt-40"},h("a",{className:"jsx-1072477770 anchor font14 fw400 color777"},"Maybe Later"))),h("div",{className:"jsx-1072477770 rfqOtpLogPop dn"},h("div",{className:"jsx-1072477770 font18 fw400 color111"},"Enter the code sent to ",h("span",{className:"jsx-1072477770 fw600"},"+91 ",n)," ",h("span",{onClick:function(){return function(){B(),clearInterval(o),v(23);var e=document.querySelector(".rfqOtpLogPop");e.classList.contains("dn")||e.classList.add("dn");var t=document.querySelector(".rfqLoginPop");t.classList.contains("dn")&&t.classList.remove("dn")}()},className:"jsx-1072477770 jdmart_edit_icon jdmart_icon ml-10"})),h("div",{className:"jsx-1072477770 login_otpfield mt-25"},h("input",{ref:D,id:"0",type:"tel",autoComplete:"off",tabIndex:"1",name:"o1",maxLength:"1",placeholder:"_",value:P.o1,onKeyDown:Z,onChange:Z,className:"jsx-1072477770 otpfield"}),h("input",{onKeyDown:Z,onChange:Z,value:P.o2,ref:z,id:"1",type:"tel",autoComplete:"off",tabIndex:"2",name:"o2",maxLength:"1",placeholder:"_",className:"jsx-1072477770 otpfield"}),h("input",{onKeyDown:Z,onChange:Z,value:P.o3,ref:E,id:"2",type:"tel",autoComplete:"off",tabIndex:"3",name:"o3",maxLength:"1",placeholder:"_",className:"jsx-1072477770 otpfield"}),h("input",{onKeyDown:Z,onChange:Z,value:P.o4,ref:A,id:"3",type:"tel",autoComplete:"off",tabIndex:"4",name:"o4",maxLength:"1",placeholder:"_",className:"jsx-1072477770 otpfield"}),h("input",{onKeyDown:Z,onChange:Z,value:P.o5,ref:F,id:"4",type:"tel",autoComplete:"off",tabIndex:"5",name:"o5",maxLength:"1",placeholder:"_",className:"jsx-1072477770 otpfield"}),h("input",{onKeyDown:Z,onChange:Z,value:P.o6,ref:R,id:"5",type:"tel",autoComplete:"off",tabIndex:"6",name:"o6",maxLength:"1",placeholder:"_",className:"jsx-1072477770 otpfield"})),h("span",{className:"jsx-1072477770 input_error font15 colorDA4 fw400 mt-10 jdmart_wrapper"},k),h("div",{className:"jsx-1072477770 login_otpresent mt-20"},h("div",{className:"jsx-1072477770 font16 fw400 color777"},"Didn't receive the OTP? ",0!==x&&h("span",{className:"jsx-1072477770"},"Retry in 00:",(x+"").length>1?x:"0"+x)),0===x&&h("div",{onClick:function(){return T()},className:"jsx-1072477770 font16 fw500 color007 pointer"},"Resend OTP")),h("div",{className:"jsx-1072477770 login_input_btnbox mt-20"},h("button",{onClick:function(){return H()},className:"jsx-1072477770 "+"login_input_button bluefill_animate font18 fw600 colorFFF ".concat(6===Q.length||k?"":"disable")},O?h("span",{className:"jsx-1072477770 loader_circle mr-5"}):"Submit"))),h("div",{className:"jsx-1072477770 pt-25 rfqUserNamePop dn"},h("div",{className:"jsx-1072477770 login_input_from"},h("div",{className:"jsx-1072477770 login_input_group"},h("input",{onChange:function(e){return m(e.target.value)},value:f,type:"text",name:"name",placeholder:"Enter your full name",maxLength:"20",className:"jsx-1072477770 login_input font18 fw500 color111"}))),h("span",{className:"jsx-1072477770 input_error font15 colorDA4 fw400 mt-10 jdmart_wrapper"},k),h("div",{className:"jsx-1072477770 login_input_btnbox mt-20 mb-50"},h("button",{onClick:J,className:"jsx-1072477770 "+"login_input_button bluefill_animate font18 fw600 colorFFF ".concat(f.length>0?"":"disable")},"Login")))))))),h(c.a,{id:"1072477770"},[".new__rfqlogin_pop .jdmart_modal_large{width:520px;}",".new__rfqlogin_pop .jdmart_edit_icon{background-image:url(https://akam.cdn.jdmagicbox.com/images/icontent/newwap/jdservice/mjw_loginediticn.svg);width:14px;height:14px;background-size:100%;}",".new__rfqlogin_pop .jdmart_modal_header .modal_head_center{width:calc(100% - 50px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}",".new__rfqlogin_pop .jdmart_modal_header{-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".new__rfqlogin_pop .login_logo{border-right:1px solid#f2f5f8;width:120px;height:40px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-right:20px;}",".new__rfqlogin_pop .login_text{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".new__rfqlogin_pop .jdmart_modal_close{position:absolute;top:20px;right:20px;}",".new__rfqlogin_pop .rfqlogin_box{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".new__rfqlogin_pop .rfqlogin_leftbox{-webkit-flex:1;-ms-flex:1;flex:1;}",".new__rfqlogin_pop .rfqlogin_rightbox{width:240px;-webkit-flex:none;-ms-flex:none;flex:none;}",".new__rfqlogin_pop .login_input_group{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:52px;border:none;border-bottom:1px solid #f0f3f5;}",".new__rfqlogin_pop .login_input{width:100%;height:100%;border:none;background:#0000;padding:0;margin:0;padding:0 16px;}",".new__rfqlogin_pop .login_input::-webkit-input-placeholder{color:#777;font-size:18px;font-weight:500;}",".new__rfqlogin_pop .login_input::-moz-placeholder{color:#777;font-size:18px;font-weight:500;}",".new__rfqlogin_pop .login_input:-ms-input-placeholder{color:#777;font-size:18px;font-weight:500;}",".new__rfqlogin_pop .login_input::placeholder{color:#777;font-size:18px;font-weight:500;}",".new__rfqlogin_pop .login_input_addone{width:60px;height:52px;-webkit-flex:none;-ms-flex:none;flex:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".new__rfqlogin_pop .login_input_addone:after{width:2px;height:21px;position:absolute;content:'';right:0;top:15px;background:#f0f3f5;}",".new__rfqlogin_pop .login_input_btnbox{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".new__rfqlogin_pop .login_input_button{width:300px;height:46px;border-radius:6px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;}",".new__rfqlogin_pop .login_input_button.disable{background-color:#b1d5f2;cursor:not-allowed;border:1px solid #b1d5f2;pointer-events:none;}",".new__rfqlogin_pop .login_otpfield{display:inline-grid;position:relative;width:100%;grid-template-columns:repeat(6,1fr);grid-gap:12px;}",".new__rfqlogin_pop .otpfield{text-align:center;font-weight:600;font-size:26px;color:#222;background:transparent;border:solid 1px#eee;width:100%;height:69px;border-radius:8px;background-color:#fff;}",".new__rfqlogin_pop .otpfield:focus{border:solid 1px #111;}",".new__rfqlogin_pop .otpfield::-webkit-input-placeholder{color:#777;font-size:18px;font-weight:300;}",".new__rfqlogin_pop .otpfield::-moz-placeholder{color:#777;font-size:18px;font-weight:300;}",".new__rfqlogin_pop .otpfield:-ms-input-placeholder{color:#777;font-size:18px;font-weight:300;}",".new__rfqlogin_pop .otpfield::placeholder{color:#777;font-size:18px;font-weight:300;}",".new__rfqlogin_pop .login_otpresent{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"])),document.body)}))}}]);